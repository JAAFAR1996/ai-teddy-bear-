# โก ESP32 - ุงูุฑุจุท ุงูุณุฑูุน

## ๐ฏ **ุงููุฏู:** ุฑุจุท ุฏููุฉ ESP32 ุจุงููุธุงู ุงูุฐู ูุนูู ุงูุขู

---

## ๐ **ุงุดุชุฑู ูุฐู ุงููุทุน (ุงูุฃุณุงุณูุฉ ููุท):**

### **ููุชุฌุฑุจุฉ ุงูุจุณูุทุฉ:**
- โ **ESP32 DevKit** - $10
- โ **ูููุฑูููู USB** (ุจุฏูุงู ูู I2S) - $5  
- โ **ุฒุฑ ุถุบุท ูุงุญุฏ** - $1
- โ **LED** ูุงุญุฏ - $0.50
- โ **ุฃุณูุงู ุชูุตูู** - $3

**๐ฐ ุงูุชูููุฉ: ~$20 ููุชุฌุฑุจุฉ**

### **ูููุณุฎุฉ ุงููุงููุฉ:**
- ESP32-S3 ูุน PSRAM - $15
- ูููุฑูููู I2S (INMP441) - $8
- ููุจุฑ ุตูุช I2S (MAX98357A) - $12
- 3 ุฃุฒุฑุงุฑ + 4 LED - $5
- ูุงุจูุงุช ููุทุน ุฅุถุงููุฉ - $10

**๐ฐ ุงูุชูููุฉ: ~$50 ูููุณุฎุฉ ุงููุงููุฉ**

---

## โก **ุงูุฅุนุฏุงุฏ ุงูุณุฑูุน (10 ุฏูุงุฆู):**

### **ุงูุฎุทูุฉ 1: ุชุญุถูุฑ ESP32**
```bash
# 1. ุญููู Arduino IDE ูู: https://arduino.cc
# 2. ุซุจูุช ESP32 boards: 
#    File โ Preferences โ Additional URLs:
#    https://dl.espressif.com/dl/package_esp32_index.json
# 3. Tools โ Board Manager โ ุงุจุญุซ "ESP32" โ Install
```

### **ุงูุฎุทูุฉ 2: ุชูุตูู ุจุณูุท**
```
ESP32 Pin 12  โ  ุฒุฑ Talk (ุฅูู GND)
ESP32 Pin 2   โ  LED Status (ูุน ููุงููุฉ 220ฮฉ)
ESP32 USB    โ  ููุจููุชุฑ (ููุจุฑูุฌุฉ ูุงูุทุงูุฉ)
```

### **ุงูุฎุทูุฉ 3: ุฑูุน ุงูููุฏ**
```cpp
// 1. ุงูุชุญ Arduino IDE
// 2. ุงูุณุฎ ูุฐุง ุงูููุฏ ุงูุจุณูุท:

#include <WiFi.h>
#include <HTTPClient.h>
#include <ArduinoJson.h>

const char* ssid = "ุงุณู_ุงููุงู_ูุงู";          // ุนุฏูู ูุฐุง
const char* password = "ูููุฉ_ุงููุฑูุฑ";         // ุนุฏูู ูุฐุง  
const char* serverURL = "http://192.168.0.171:8000";  // ุนุฏูู IP ุญุณุจ ุฌูุงุฒู

const int BUTTON_PIN = 12;
const int LED_PIN = 2;

void setup() {
  Serial.begin(115200);
  pinMode(BUTTON_PIN, INPUT_PULLUP);
  pinMode(LED_PIN, OUTPUT);
  
  // ุงุชุตุงู WiFi
  WiFi.begin(ssid, password);
  while (WiFi.status() != WL_CONNECTED) {
    delay(500);
    Serial.print(".");
  }
  Serial.println("WiFi Connected!");
  
  // ุชุณุฌูู ุงูุฌูุงุฒ
  registerDevice();
}

void loop() {
  if (digitalRead(BUTTON_PIN) == LOW) {
    digitalWrite(LED_PIN, HIGH);
    sendTestMessage();
    digitalWrite(LED_PIN, LOW);
    delay(1000);
  }
}

void registerDevice() {
  HTTPClient http;
  http.begin(serverURL + "/api/v1/devices/register");
  http.addHeader("Content-Type", "application/json");
  
  String payload = "{\"device_id\":\"ESP32_TEST_001\",\"firmware_version\":\"1.0.0\"}";
  int response = http.POST(payload);
  
  if (response == 201) {
    Serial.println("โ Device registered!");
  } else {
    Serial.println("โ Registration failed");
  }
  http.end();
}

void sendTestMessage() {
  HTTPClient http;
  http.begin(serverURL + "/api/v1/interact");
  http.addHeader("Content-Type", "application/json");
  
  String payload = "{\"message\":\"ูุฑุญุจุง ูู ESP32!\",\"child_id\":\"test_child\",\"device_id\":\"ESP32_TEST_001\"}";
  int response = http.POST(payload);
  
  if (response == 200) {
    String result = http.getString();
    Serial.println("Response: " + result);
  }
  http.end();
}

// 3. ุนุฏูู ุงุณู ุงููุงู ูุงู ู IP
// 4. Tools โ Board โ "ESP32 Dev Module"  
// 5. Tools โ Port โ ุงุฎุชุฑ ุงููููุฐ
// 6. ุงุถุบุท Upload
```

---

## ๐งช **ุงุฎุชุจุงุฑ ุณุฑูุน:**

### **ุจุนุฏ ุฑูุน ุงูููุฏ:**
```
1. ุงูุชุญ Serial Monitor (Ctrl+Shift+M)
2. ูุฌุจ ุฃู ุชุฑู: "WiFi Connected!" ู "โ Device registered!"
3. ุงุถุบุท ุงูุฒุฑ โ LED ูุถูุก โ ุฑุณุงูุฉ ุชูุฑุณู ููู Backend
4. ุชุญูู ูู http://localhost:3000 โ ูุฌุจ ุฃู ุชุฑู ุงูุฌูุงุฒ ูู ุงููุงุฆูุฉ
```

### **ูู Dashboard:**
```
ุงูุชูู ุฅูู: http://localhost:3000/devices
ูุฌุจ ุฃู ุชุฑู: "ESP32_TEST_001" ููุณุฌูู ููุชุตู
```

---

## ๐ฎ **ุงูุงุณุชุฎุฏุงู:**
1. **ุงุถุบุท ุงูุฒุฑ** ุนูู ESP32
2. **LED ูุถูุก** โ ุฑุณุงูุฉ ุชูุฑุณู  
3. **Backend ูุนุงูุฌ** ุงูุทูุจ
4. **ุงูุฑุฏ ูุธูุฑ** ูู Serial Monitor

---

## ๐ **ููุชุฑููุฉ ูููุณุฎุฉ ุงููุงููุฉ:**

### **ุฃุถู ุงูุตูุช:**
```cpp
// ุงุณุชุฎุฏู esp32/secure_teddy_main.ino ูู ุงููุดุฑูุน
// ูุชุถูู:
- ูุนุงูุฌุฉ ุตูุช I2S
- WebSocket ููุชูุงุตู ุงูููุฑู  
- ุถุบุท ุตูุช MP3
- ูุธุงู LED ูุชูุฏู
- ุฅุนุฏุงุฏุงุช ุฃูุงู
```

### **ุฃุถู ุงููููุฒุงุช:**
- **ูููุฑูููู ุญูููู** ุจุฏูุงู ูู ุฑุณุงุฆู ูุตูุฉ
- **ููุจุฑ ุตูุช** ููุฑุฏูุฏ ุงูุตูุชูุฉ
- **ุฃุฒุฑุงุฑ ุฅุถุงููุฉ** ููุชุญูู ูู ุงูุตูุช
- **ุจุทุงุฑูุฉ** ููุงุณุชุฎุฏุงู ุงููุญููู

---

## ๐ง **ุญู ุงููุดุงูู:**

### **ESP32 ูุง ูุชุตู:**
```
1. ุชุฃูุฏ ูู ุงุณู ุงููุงู ูุงู ุตุญูุญ
2. ุงูุดุจูุฉ 2.4GHz (ููุณุช 5GHz)
3. ุชุฃูุฏ ูู IP ุงูู Backend ุตุญูุญ
4. ุงุฎุชุจุฑ: ping 192.168.1.100
```

### **ูุง ูุธูุฑ ูู Dashboard:**
```
1. ุชุฃูุฏ ุฃู Backend ูุนูู ุนูู ุงููููุฐ 8000
2. ุชุญูู ูู Firewall/Antivirus
3. ุงุฎุชุจุฑ: curl http://localhost:8000/health
```

### **ุงูููุฏ ูุง ููุฑูุน:**
```
1. ุชุฃูุฏ ูู ุงุฎุชูุงุฑ Board ุงูุตุญูุญ
2. ุชุฃูุฏ ูู Port ุงูุตุญูุญ  
3. ุงุถุบุท ุฒุฑ BOOT ุฃุซูุงุก ุงูุฑูุน
```

---

## ๐ **ุงูุฎุทูุงุช ุงูุชุงููุฉ:**

โ **ููุชูู:** Backend + Frontend ูุนููุงู  
๐ **ุงูุขู:** ESP32 ูุชุตู ูููุฑุณู ุฑุณุงุฆู  
โญ๏ธ **ุงูุชุงูู:** ุฅุถุงูุฉ ุงูุตูุช ูุงููููุฒุงุช ุงููุชูุฏูุฉ  

### **ุฎุทุฉ ุงูุชุทููุฑ:**
1. โ **ุงุฎุชุจุงุฑ ุงูุงุชุตุงู** (ESP32 โ Backend)
2. ๐ **ุฅุถุงูุฉ ุงููููุฑูููู** (I2S)
3. โญ๏ธ **ุฅุถุงูุฉ ุงูููุจุฑ** (I2S)  
4. โญ๏ธ **ุชุญุณูู ุงูุชูุงุนู** (LED + Buttons)
5. โญ๏ธ **ุฅุถุงูุฉ ุงูุจุทุงุฑูุฉ** (ูุญููู)

---

## ๐ก **ูุตุงุฆุญ:**
- **ุงุจุฏุฃ ุจุณูุท** ุซู ุฃุถู ุงููููุฒุงุช ุชุฏุฑูุฌูุงู
- **ุงุฎุชุจุฑ ูู ุฎุทูุฉ** ูุจู ุงูุงูุชูุงู ููุชุงููุฉ  
- **ุงุญูุธ ูุณุฎ ุงุญุชูุงุทูุฉ** ูู ุงูููุฏ ุงูุฐู ูุนูู
- **ุฑุงุฌุน Serial Monitor** ุฏุงุฆูุงู ููุฃุฎุทุงุก

**๐ฏ ุงููุฏู: ESP32 ูุชููู ูุน ุทููู ุฎูุงู ุณุงุนุฉ!** 