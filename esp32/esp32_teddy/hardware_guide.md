# ๐งธ ุฏููู ุชุฑููุจ ุงูุฏููุฉ ุงูุฐููุฉ - ESP32

## ๐ **ุงูููููุงุช ุงููุทููุจุฉ:**

### **1. ูุญุฏุฉ ุงูุชุญูู ุงูุฑุฆูุณูุฉ:**
- **ESP32-WROOM-32** ุฃู **ESP32-S3**
- ุฐุงูุฑุฉ: 4MB Flashุ 520KB RAM
- WiFi + Bluetooth ูุฏูุฌ

### **2. ููููุงุช ุงูุตูุช:**
```
๐ค ูููุฑูููู: INMP441 I2S MEMS
๐ ูุถุฎู ุงูุตูุช: MAX98357A I2S
๐ข ุณูุงุนุฉ: 3W 4ฮฉ ุตุบูุฑุฉ
๐๏ธ ููุธู ุงูุตูุช: ููุงููุฉ ูุชุบูุฑุฉ 10kฮฉ
```

### **3. ุงูุฅุถุงุกุฉ ูุงูุชูุงุนู:**
```
๐ก ุดุฑูุท LEDs: WS2812B (8 LEDs)
๐ ุฃุฒุฑุงุฑ: 3 ุฃุฒุฑุงุฑ (ุชูููุ + ุตูุชุ - ุตูุช)
๐ ุจุทุงุฑูุฉ: 18650 Li-ion 3.7V 3000mAh
โก ูุญุฏุฉ ุดุญู: TP4056 ูุน ุญูุงูุฉ
```

### **4. ุงูุชุบููู:**
```
๐งธ ุฏููุฉ ูุนุจุฉ ูุจูุฑุฉ (25-30 ุณู)
๐ฆ ุนูุจุฉ ุฅููุชุฑูููุงุช ุตุบูุฑุฉ (waterproof)
๐ ูููุฐ ุดุญู USB-C ุฎุงุฑุฌู
```

## ๐ง **ูุฎุทุท ุงูุชูุตูู:**

```
ESP32 Pins:
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  PIN  โ  Component  โ  Function โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  2    โ  WS2812B    โ  LEDs     โ
โ  4    โ  Button     โ  Talk     โ
โ  5    โ  Button     โ  Vol+     โ
โ  18   โ  Button     โ  Vol-     โ
โ  25   โ  I2S_WS     โ  Audio    โ
โ  32   โ  I2S_SCK    โ  Audio    โ
โ  33   โ  I2S_SD     โ  Audio    โ
โ  GND  โ  Common     โ  Ground   โ
โ  3.3V โ  Power      โ  +3.3V    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐ต **ุชูุตูู ุงูุตูุช (I2S):**

### **INMP441 ูููุฑูููู:**
```
INMP441    โ    ESP32
VCC        โ    3.3V
GND        โ    GND
SD         โ    GPIO33
WS         โ    GPIO25
SCK        โ    GPIO32
```

### **MAX98357A ูุถุฎู:**
```
MAX98357A  โ    ESP32
VIN        โ    5V
GND        โ    GND
DIN        โ    GPIO33
BCLK       โ    GPIO32
LRC        โ    GPIO25
```

## ๐ก **ุชูุตูู LEDs:**
```
WS2812B Strip:
VCC  โ  5V
GND  โ  GND
DIN  โ  GPIO2

ุฃููุงู ุงูุญุงูุงุช:
๐ข ุฃุฎุถุฑ = ุฌุงูุฒ
๐ด ุฃุญูุฑ = ูุณุฌู
๐ต ุฃุฒุฑู = ูููุฑ
๐ฃ ุจููุณุฌู = ูุชููู
๐ก ุฃุตูุฑ = ูุชุตู ุจุงููุงู ูุงู
```

## ๐ **ุชูุตูู ุงูุฃุฒุฑุงุฑ:**

```
Button Layout:
     [Vol-]    [Talk]    [Vol+]
       18        4         5
       
ูู ุฒุฑ ููุตูู ูุน ููุงููุฉ pull-up ุฏุงุฎููุฉ
```

## โก **ูุธุงู ุงูุทุงูุฉ:**

```
Power Circuit:
18650 Battery โ TP4056 โ ESP32
                  โ
              USB-C Port (ููุดุญู)
              
Voltage Levels:
- ุจุทุงุฑูุฉ: 3.7V-4.2V
- ESP32: 3.3V (ููุธู ุฏุงุฎูู)
- LEDs: 5V (ูุญูู ุตุบูุฑ)
- ุตูุช: 3.3V/5V
```

## ๐ฆ **ุฎุทูุงุช ุงูุชุฑููุจ:**

### **ุงููุฑุญูุฉ 1: ุชุญุถูุฑ ุงูุฏููุฉ**
1. ูุชุญ ุงูุฏููุฉ ูู ุงูุฎูู
2. ุฅุฒุงูุฉ ุงูุญุดู ูุนูู ูุณุงุญุฉ ููุฅููุชุฑูููุงุช
3. ุชุญุฏูุฏ ููุงู ุงูุณูุงุนุฉ ูุงููููุฑูููู
4. ุนูู ูุชุญุงุช ููุฃุฒุฑุงุฑ ููููุฐ ุงูุดุญู

### **ุงููุฑุญูุฉ 2: ุชุฌููุน ุงูุฏุงุฆุฑุฉ**
```bash
# ุนูู ููุญุฉ ุชุฌุงุฑุจ ุฃู PCB ุตุบูุฑุฉ
1. ูุญุงู ESP32 ุนูู ุงูููุญุฉ
2. ุชูุตูู ููููุงุช ุงูุตูุช
3. ุชูุตูู LEDs ูุงูุฃุฒุฑุงุฑ
4. ุชูุตูู ูุธุงู ุงูุทุงูุฉ
5. ุงุฎุชุจุงุฑ ูู ูููู ูููุตู
```

### **ุงููุฑุญูุฉ 3: ุงูุจุฑูุฌุฉ**
```bash
# Arduino IDE Setup
1. ุชุซุจูุช ESP32 board package
2. ุชุซุจูุช ุงูููุชุจุงุช ุงููุทููุจุฉ:
   - WiFi
   - HTTPClient
   - ArduinoJson
   - FastLED
   - ESPAsyncWebServer

3. ุฑูุน ุงูููุฏ ุนูู ESP32
4. ุงุฎุชุจุงุฑ ุงูุงุชุตุงู ุจุงููุงู ูุงู
```

### **ุงููุฑุญูุฉ 4: ุงูุชุฌููุน ุงูููุงุฆู**
```
1. ูุถุน ุงูุฏุงุฆุฑุฉ ูู ุนูุจุฉ ุญูุงูุฉ
2. ุชุซุจูุช ุงูุณูุงุนุฉ ูู ููุฏูุฉ ุงูุฏููุฉ
3. ุชุซุจูุช ุงููููุฑูููู ูุฑุจ ุงููู
4. ุชุซุจูุช LEDs ูู ุงูุนููู ุฃู ุงูุฃุฐููู
5. ุฅุบูุงู ุงูุฏููุฉ ูุน ุชุฑู ูููุฐ ุงูุดุญู ุธุงูุฑ
```

## ๐ง **ููุฏ ESP32 - ุงูููุชุจุงุช ุงููุทููุจุฉ:**

```cpp
// ูู Arduino IDEุ ุงุฐูุจ ูู Tools > Manage Libraries ูุซุจุช:

WiFi                   // ูุฏูุฌุฉ ูุน ESP32
HTTPClient            // ูุฏูุฌุฉ ูุน ESP32
ArduinoJson           // v6.21.3+
FastLED               // v3.6.0+
ESPAsyncWebServer     // v1.2.3+
AsyncTCP              // v1.1.1+
```

## ๐ **ุฅุนุฏุงุฏ ุงูุณูุฑูุฑ ุงูุณุญุงุจู:**

### **1. ุชุดุบูู ุงูุณูุฑูุฑ:**
```bash
# ูู ุงูููุจููุชุฑ
cd /path/to/teddy-project
python -m src.main_fixed
```

### **2. ุชุญุฏูุฏ ุฑุงุจุท ุงูุณูุฑูุฑ:**
```cpp
// ูู ููุฏ ESP32ุ ุบูุฑ ูุฐุง ุงูุณุทุฑ:
const char* server_url = "http://192.168.1.100:8000";
// ุงุณุชุจุฏู 192.168.1.100 ุจู IP ุงูููุจููุชุฑ ูู ุงูุดุจูุฉ
```

### **3. ุฅุนุฏุงุฏ ุงููุงู ูุงู:**
```cpp
// ูู ููุฏ ESP32:
const char* ssid = "ุงุณู_ุงููุงู_ูุงู";
const char* password = "ูููุฉ_ุงููุฑูุฑ";
```

## ๐งช **ุงุฎุชุจุงุฑ ุงููุธุงู:**

### **1. ุงุฎุชุจุงุฑ ุงูุฃุณุงุณูุงุช:**
```
โ ุฅุถุงุกุฉ LEDs ุนูุฏ ุงูุชุดุบูู
โ ุงุชุตุงู ุงููุงู ูุงู (LED ุฃุฎุถุฑ)
โ ุงุณุชุฌุงุจุฉ ุงูุฃุฒุฑุงุฑ
โ ูุถูุญ ุงูุตูุช ูู ุงูุณูุงุนุฉ
```

### **2. ุงุฎุชุจุงุฑ ุงูุฐูุงุก ุงูุงุตุทูุงุนู:**
```
1. ุงุถุบุท ุฒุฑ "ุชููู"
2. ูู "ูุฑุญุจุง ุฃููุง ุงูุฏุจ"
3. ุงููุช ุงูุฒุฑ
4. ุงูุชุธุฑ ุงูุฑุฏ (LED ุฃุฒุฑู ุซู ุจููุณุฌู)
5. ุงุณุชูุน ููุฑุฏ ูู ุงูุณูุงุนุฉ
```

### **3. ูุฑุงูุจุฉ ุงููุธุงู:**
```
http://192.168.1.100:8000/teddy/devices
โณ ุนุฑุถ ุฌููุน ุงูุฏูู ุงููุชุตูุฉ

http://192.168.1.100:8000/teddy/device/[MAC_ADDRESS]/status  
โณ ุญุงูุฉ ุฏููุฉ ูุนููุฉ

Serial Monitor (115200 baud)
โณ ูุฑุงูุจุฉ ุฑุณุงุฆู ุงูุชุดุฎูุต
```

## ๐ **ุฅุฏุงุฑุฉ ุงูุจุทุงุฑูุฉ:**

```cpp
// ูู ุงูููุฏุ ุฃุถู ูุฑุงูุจ ุงูุจุทุงุฑูุฉ:
int battery_level = analogRead(A0) * 100 / 4095;

// ุฅุฑุณุงู ุชูุจูู ุนูุฏ ุงูุฎูุงุถ ุงูุจุทุงุฑูุฉ:
if (battery_level < 20) {
    send_low_battery_alert();
}
```

## ๐ก๏ธ **ุงูุฃูุงู ูุงูุญูุงูุฉ:**

### **ููุฃุทูุงู:**
- ุชุฃูุฏ ูู ุฅุบูุงู ุฌููุน ุงูุฃุณูุงู ุจุฅุญูุงู
- ุงุณุชุฎุฏู ููุงุฏ ุบูุฑ ุณุงูุฉ
- ุชุฌูุจ ุงูุญูุงู ุงูุญุงุฏุฉ
- ุงุฎุชุจุงุฑ ุงูุญุฑุงุฑุฉ (ูุง ุชุณุฎู ุฃูุซุฑ ูู 40ยฐC)

### **ููุดุจูุฉ:**
- ุงุณุชุฎุฏู ุดุจูุฉ ูููุตูุฉ ููุฏูู
- ูุนู ุชุดููุฑ WPA3
- ุฑุงูุจ ุงุณุชููุงู ุงูุจูุงูุงุช
- ุญุฏุซ ุงูุจุฑูุฌูุฉ ุจุงูุชุธุงู

## ๐ฑ **ุชุทุจูู ุงูุชุญูู ูููุงูุฏูู:**

ุงุฐูุจ ูู: `http://[ESP32_IP_ADDRESS]`

**ุงูููุฒุงุช:**
- ๐ค ุจุฏุก ูุญุงุฏุซุฉ ุนู ุจูุนุฏ
- ๐ ุงูุชุญูู ูู ูุณุชูู ุงูุตูุช
- ๐ ูุฑุงูุจุฉ ุงูุญุงูุฉ ูุงูุจุทุงุฑูุฉ
- ๐ ุนุฑุถ ุงููุญุงุฏุซุงุช ุงูุฃุฎูุฑุฉ
- โ๏ธ ุชุญุฏูุซ ุงูุฅุนุฏุงุฏุงุช

## ๐ **ููุฒุงุช ูุชูุฏูุฉ (ุงุฎุชูุงุฑูุฉ):**

### **1. ุงุณุชุดุนุงุฑ ุงูุญุฑูุฉ:**
```cpp
// ุฃุถู PIR sensor ูุงูุชุดุงู ุงูุชุฑุงุจ ุงูุทูู
#define PIR_PIN 19
```

### **2. ูุณุชุดุนุฑ ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ:**
```cpp
// DS18B20 ููุฑุงูุจุฉ ุญุฑุงุฑุฉ ุงูุฏููุฉ
#include <OneWire.h>
#include <DallasTemperature.h>
```

### **3. ุจููุชูุซ ููุชุญุฏูุซุงุช:**
```cpp
// ููุชุญุฏูุซุงุช ุจุฏูู ุฅุฒุนุงุฌ ุงูุทูู
#include "BluetoothSerial.h"
```

## ๐ **ุงุณุชูุดุงู ุงูุฃุฎุทุงุก:**

| ุงููุดููุฉ | ุงูุณุจุจ ุงููุญุชูู | ุงูุญู |
|---------|---------------|------|
| ูุง ูุชุตู ุจุงููุงู ูุงู | ูููุฉ ูุฑูุฑ ุฎุงุทุฆุฉ | ุชุญูู ูู ุจูุงูุงุช ุงูุดุจูุฉ |
| ูุง ุตูุช | ุชูุตูู I2S ุฎุงุทุฆ | ุฑุงุฌุน ุชูุตูู ุงูุฃุณูุงู |
| ูุง ูุณุชุฌูุจ ุงูุณูุฑูุฑ | IP ุฎุงุทุฆ | ุชุญูู ูู ุนููุงู ุงูุณูุฑูุฑ |
| LEDs ูุง ุชุนูู | ููุต ุทุงูุฉ | ุชุญูู ูู ุชูุตูู ุงูุทุงูุฉ 5V |
| ุตูุช ููุทุน | ุฅุดุงุฑุฉ ูุงู ูุงู ุถุนููุฉ | ูุฑุจ ุงูุฏููุฉ ูู ุงูุฑุงูุชุฑ |

---

๐ **ุชูุงูููุง! ุฏููุชู ุงูุฐููุฉ ุฌุงูุฒุฉ ุงูุขู!**

ูุฃู ุงุณุชูุณุงุฑุงุช ุฃู ูุณุงุนุฏุฉ ุฅุถุงููุฉุ ุฑุงุฌุน ุฏููููุชุณูุง ุงููุงููุฉ ุฃู ุงุชุตู ุจูุฑูู ุงูุฏุนู. 