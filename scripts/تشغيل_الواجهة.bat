@echo off
chcp 65001 >nul
title ุชุดุบูู ูุงุฌูุฉ ุฏุจุฏูุจ ุงูุฐูู
color 0A

echo.
echo =========================================
echo      ๐งธ ูุงุฌูุฉ ุฏุจุฏูุจ ุงูุฐูู ๐งธ
echo =========================================
echo.

:: ุงูุชุญูู ูู ูุฌูุฏ Node.js
echo [1/4] ูุญุต Node.js...
node --version >nul 2>&1
if %errorlevel% neq 0 (
    echo โ Node.js ุบูุฑ ูุซุจุช!
    echo.
    echo ูุฑุฌู ุชุซุจูุช Node.js ุฃููุงู ูู:
    echo https://nodejs.org/
    echo.
    echo ุจุนุฏ ุงูุชุซุจูุชุ ุฃุนุฏ ุชุดุบูู ูุฐุง ุงูููู
    pause
    exit /b 1
)
echo โ Node.js ูุซุจุช

:: ุงูุงูุชูุงู ููุฌูุฏ frontend
echo.
echo [2/4] ุงูุงูุชูุงู ููุฌูุฏ frontend...
if not exist "frontend" (
    echo โ ูุฌูุฏ frontend ุบูุฑ ููุฌูุฏ!
    echo ุชุฃูุฏ ูู ูุถุน ูุฐุง ุงูููู ูู ูุฌูุฏ ุงููุดุฑูุน ุงูุฑุฆูุณู
    pause
    exit /b 1
)
cd frontend
echo โ ุชู ุงูุงูุชูุงู

:: ุงูุชุญูู ูู ุงูุชุจุนูุงุช
echo.
echo [3/4] ูุญุต ุงูุชุจุนูุงุช...
if not exist "node_modules" (
    echo โณ ุชุซุจูุช ุงูุชุจุนูุงุช (ูุฏ ูุณุชุบุฑู ุจุถุน ุฏูุงุฆู)...
    npm install
    if %errorlevel% neq 0 (
        echo โ ูุดู ูู ุชุซุจูุช ุงูุชุจุนูุงุช!
        echo ุชุญูู ูู ุงุชุตุงู ุงูุฅูุชุฑูุช ูุญุงูู ูุฑุฉ ุฃุฎุฑู
        pause
        exit /b 1
    )
    echo โ ุชู ุชุซุจูุช ุงูุชุจุนูุงุช
) else (
    echo โ ุงูุชุจุนูุงุช ูุซุจุชุฉ ูุณุจูุงู
)

:: ุจุฏุก ุงูุชุดุบูู
echo.
echo [4/4] ุจุฏุก ุชุดุบูู ุงููุงุฌูุฉ...
echo.
echo ๐ ุณูุชู ูุชุญ ุงููุชุตูุญ ุชููุงุฆูุงู ุนูู:
echo    http://localhost:3000
echo.
echo ๐ก ูุฅููุงู ุงูุฎุงุฏู: ุงุถุบุท Ctrl+C
echo.
echo =========================================
echo.

npm start

echo.
echo =========================================
echo      ุชู ุฅููุงู ุงูุฎุงุฏู ุจูุฌุงุญ โ
echo =========================================
pause 